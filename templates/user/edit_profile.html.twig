{% extends 'base_user.html.twig' %}
{% block body %}
	<div style="background-color: white;padding: 20px">
		<form method="POST" enctype="multipart/form-data">
		{{form_widget(form._token)}}
			<fieldset>
				<legend>ETAT CIVIL</legend>
				<div class="form-group" style="text-align:center">
					<div>
						<img src="{{ asset('uploads/photos/' ~ user.profileName) }}" width="100px" height="100px" id="preview">
					</div>
					<input type="file" name='profileFile' class="form-control" id="profileFile" onchange="readURL(this);">
					<span class="text-danger">{{ form_errors(form.profileFile) }}</span>
				</div>
				<br/>
				<div class="form-group">
					<label for="firstName">NOM:</label>
					{{ form_widget(form.firstName, {attr:{'class': 'form-control', 'id': 'firstName'}}) }}
					<span class="text-danger">{{ form_errors(form.firstName) }}</span>
				</div>
				<div class="form-group">
					<label for="lastName">PRENOM:</label>
					{{ form_widget(form.lastName, {attr:{'class': 'form-control', 'id': 'lastName'}}) }}
					<span class="text-danger">{{ form_errors(form.lastName) }}</span>
				</div>
				<div class="form-group">
					<label for="email">EMAIL:</label>
					{{ form_widget(form.email, {attr:{'class': 'form-control', 'id': 'email'}}) }}
					<span class="text-danger">{{ form_errors(form.email) }}</span>
				</div>
				<div class="form-group">
					<label for="dateOfBirth">DATE DE NAISSANCE:</label>
					{{ form_widget(form.dateOfBirth, {attr:{'class': 'form-control', 'id': 'dateOfBirth', 'type': 'date', 'required': false}}) }}
					<span class="text-danger">{{ form_errors(form.dateOfBirth) }}</span>
				</div>
				<div class="form-group">
					<label for="placeOfBirth">LIEU DE NAISSANCE:</label>
					{{ form_widget(form.placeOfBirth, {attr:{'class': 'form-control', 'id': 'placeOfBirth'}}) }}
					<span class="text-danger">{{ form_errors(form.placeOfBirth) }}</span>
				</div>
				<div class="form-group">
					<label for="maritalStatus">SITUATION MATRIMONIALE:</label>
					{{ form_widget(form.maritalStatus, {attr:{'class': 'form-control', 'id': 'maritalStatus'}}) }}
					<span class="text-danger">{{ form_errors(form.maritalStatus) }}</span>
				</div>
				<div class="form-group">
					<label for="conjointName">NOM CONJOINT(E):</label>
					{{ form_widget(form.conjointName, {attr:{'class': 'form-control', 'id': 'conjointName'}}) }}
					<span class="text-danger">{{ form_errors(form.conjointName) }}</span>
				</div>
				<div class="form-group">
					<label for="nbChildren">NOMBRE D'ENFANTS:</label>
					{{ form_widget(form.nbChildren, {attr:{'class': 'form-control', 'id': 'nbChildren'}}) }}
					<span class="text-danger">{{ form_errors(form.nbChildren) }}</span>
				</div>
				<div class="form-group">
					<label for="addressaddress">ADRESSE:</label>
					{{ form_widget(form.address, {attr:{'class': 'form-control', 'id': 'address', 'rows': 5}}) }}
					<span class="text-danger">{{ form_errors(form.address) }}</span>
				</div>
				<div class="form-group">
					<label for="nbChildren">NATIONALITE</label>
					{{ form_widget(form.nationality, {attr:{'class': 'form-control', 'id': 'nationality'}}) }}
					<span class="text-danger">{{ form_errors(form.nationality) }}</span>
				</div>
				<div class="form-group">
					<input type="submit" class="btn btn-primary" value="Sauvegarder la modification">
					<a href="{{ path('user_profile') }}"class="btn btn-default">Annuler</a>
				</div>
		</form>
		</fieldset>
	</div>
	<br/><br/>
{% endblock body %}
{% block javascripts %}
	<script type="text/javascript">
     function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    $('#preview')
                        .attr('src', e.target.result);
                };
                reader.readAsDataURL(input.files[0]);
            }
        }
	</script>
{% endblock %}